# Go 中的悲观锁和乐观素

## sync/atomic

Golang 中有一个 atomic 包，可以在不形成临界区和创建互斥量的情况下完成并发安全的值替换操作，这个包应用的便是乐观锁的原理。

不过这个包只支持 int32/int64/uint32/uint64/uintptr 这几种数据类型的一些基础操作（增减、交换、载入、存储等）

## sync

> 注意 mutex 分两种模式，正常模型下会通过自旋获取锁，饥饿模式下按照 FIFO 原则交给等待队列第一个 goroutine。

Golang 中的 sync 包，提供了各种锁，如果使用了这个包，基本上就以悲观锁的工作模式了。（有一个等待队列，进入队列后就阻塞等待唤醒）
