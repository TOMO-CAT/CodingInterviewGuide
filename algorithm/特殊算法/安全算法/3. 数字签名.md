# 数字签名

## 概念

在消息认证码中使用的是共享密钥加密，消息发送方和接收方都可以生成消息认证码MAC，因此避免不了“事后否认”的问题。而数字签名是只有消息发送方才能生成的，因此可以确定谁是消息的发送者。

假设消息发送方A需要给消息接收方B发送消息，在发送时A可以给消息加上数字签名（数字签名只可以由消息发送方A生成，消息接收方B只能验证数字签名的正确性而无法生成数字签名）。具体步骤如下：

* 消息发送方A准备好公开密钥Pa和私有密钥Sa（和公开密钥加密恰恰相反，公开密钥是消息接收方提供公钥和私钥），并将公钥Pa发送给消息接收方B
* 消息发送方A使用私有密钥加密消息得到数字签名，然后将消息和数字签名都发送给消息接收方B
* 消息接收方B使用公开密钥对数字签名进行解密得到消息，然后判断接收到的消息与解密签名后得到的消息是否相同

## 局限性

“公开密钥加密”算法是利用公开密钥加密消息，并用私有密钥解密。而数字签名是利用私有密钥加密，然后用公开密钥解密。需要注意的是并非所有的公开密钥加密算法都具有该性质，不过RSA加密算法可以满足该性质。
