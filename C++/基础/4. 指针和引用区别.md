# 指针和引用和区别

## 定义

先了解 C++ 中对象的概念：对象指的是一块能存储数据并具有某种类型的内存空间。对于一个对象 a，它有值和地址 `&a`。

* 指针：指针 p 本身也是一个对象，它同样拥有地址 `&p` 和存储的值，只不过它存储的值是一个地址
* 引用：引用可以理解为变量的别名，定义引用时程序将引用和它的初始值绑定在一起

## 区别

| 区别            | 指针                                                         | 引用                                                         |
| --------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 是否是对象      | 是，允许对指针赋值和拷贝，在指针的生命 周期内可以先后指向不同的对象，允许定义指向指针的指针 | 否，一旦初始化完成后引用将和它的初始值对象一直绑定在一起，不允许定义引用的引用 |
| 是否需要初始化  | 定义指针时不必初始化，可以在定义后的任何地方赋值             | 由于无法令引用绑定到另一个对象，因此引用必须初始化（类似于 const 常量无法修改值，因此 const 常量必须初始化） |
| 是否可以为空    | 可以为空，使用时需要判空                                     | 不可为空，使用时不需要判断引用是否为空                       |
| 是否有顶层 const | 有，表示指针的值不可变                                       | 没有，因为引用本身不可改变，所以顶层 const 没有意义            |
| 是否有底层 const | 有，表示指针所指向的对象的值不可变                           | 有，表示引用所指向的对象的值不可变                           |

## 底层实现

主流编译器引用的底层实现就是 const 指针，因此引用必须初始化且不能改变引用的指向，减少了程序员出错的概率。因此可以得到如下结论：

* 引用是基于指针的语法糖，可以看做是编译器自动完成取地址、解引用的常量指针
* 引用不可为空，因此使用起来不必担心空指针的问题
* 尽量使用引用代替指针
* 引用和指针的自增（++）与自减（--）操作含义不同，指针的运算对象是指针，而引用的运算对象是所指向的对象

## Reference

[1] <https://www.zhihu.com/question/37608201>
